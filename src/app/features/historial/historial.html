<div class="historial-container py-10 px-5 max-w-[800px] mx-auto min-h-screen bg-white">
  
  <!-- Header -->
  <div class="historial-header mb-8 pb-6 border-b-2 border-gray-200">
    <h1 class="text-4xl font-bold text-red-700 mb-2">Mi Historial Electoral</h1>
    <p class="text-gray-600 text-base" *ngIf="usuario">
      Resultados guardados de <strong>{{ usuario.nombre }}</strong>
    </p>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="flex justify-center py-20">
    <div class="w-12 h-12 border-4 border-gray-200 border-t-red-700 rounded-full animate-spin"></div>
  </div>

  <!-- Grid de Historial -->
  <div *ngIf="!loading && historial.length > 0" class="historial-grid flex flex-col gap-4">
    
    <div 
      *ngFor="let item of historial" 
      class="historial-card flex justify-between items-center p-5 bg-white rounded-xl shadow-md transition-all hover:shadow-lg"
      [style.border-left]="'5px solid ' + (item.color || '#333')">
      
      <!-- Info del partido -->
      <div>
        <h3 class="text-xl font-bold text-gray-900 mb-1">{{ item.partido }}</h3>
        <span class="text-sm text-gray-500">Resultado del Test #{{ item.id }}</span>
      </div>
      
      <!-- Porcentaje -->
      <div class="text-right">
        <span 
          class="text-3xl font-bold"
          [style.color]="getColorPorcentaje(item.porcentaje)">
          {{ item.porcentaje }}%
        </span>
        <p class="text-xs text-gray-500 mt-1">Compatibilidad</p>
      </div>
      
    </div>
    
  </div>

  <!-- Estado vacío -->
  <div 
    *ngIf="!loading && historial.length === 0" 
    class="text-center py-16 bg-gray-50 rounded-2xl">
    
    <div class="mb-6">
      <svg class="w-24 h-24 mx-auto text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
      </svg>
    </div>
    
    <h3 class="text-2xl font-bold text-gray-800 mb-3">
      Aún no tienes resultados guardados
    </h3>
    
    <p class="text-gray-600 mb-6">
      ¡Realiza el Quiz Electoral para descubrir tu afinidad!
    </p>
    
    <button 
      (click)="irAlQuiz()"
      class="inline-block bg-red-700 text-white px-8 py-3 rounded-xl font-bold cursor-pointer transition-all hover:bg-red-800 shadow-md">
      Ir al Quiz
    </button>
    
  </div>

</div>
